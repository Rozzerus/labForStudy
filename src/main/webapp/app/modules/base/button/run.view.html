<div class="modal-content" id="extendable-content">
<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="close()">&times;</button>
    <h4 class="ng-binding modal-title">Run [{{starterObject.name}}] on:</h4>
</div>
<div class="modal-body">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-2">
                <label for="starterEnv"><h5>Environment:</h5></label>
            </div>
            <div class="col-md-9">
                <ui-select ng-model="starterObject.availableEnvironments.select" theme="selectize" id="starterEnv">
                    <ui-select-match placeholder="Select or search...">{{$select.selected.name}}</ui-select-match>
                    <ui-select-choices repeat="option  in starterObject.availableEnvironments.data |  filter: {name: $select.search} | orderBy:'inboundState'">
                        <button ng-if ="option.inboundState && option.inboundState != 'Loading...'" type="button" class="btn btn-circle" ng-class=" option.inboundState === 'Active' ? 'btn-success' : (option.inboundState === 'Active (Not all)' ? 'btn-warning' : (option.inboundState === 'Active (Errors)' ? 'btn-warning'  : 'btn-danger'))">
                        </button>
                        <span ng-if ="!option.inboundState || option.inboundState === 'Loading...'" class="glyphicon glyphicon-refresh gly-spin"> </span>
                        <span ng-bind-html="option.name | highlight: $select.search"></span>
                    </ui-select-choices>
                </ui-select>
            </div>
        </div>
        <div class="row">
            <div class="col-md-2">
                <label for="starterDataset"><h5>Dataset:</h5></label>
            </div>
            <div class="col-md-9">
                <ui-select ng-model="starterObject.availableDatasets.select" theme="selectize"  id="starterDataset">
                    <ui-select-match placeholder="Select or search...">{{$select.selected.name}} <span class="text-muted" style="font-size: 8pt">[{{$select.selected.type}}]</span></ui-select-match>
                    <ui-select-choices  repeat="option  in starterObject.availableDatasets.data |  filter: {name: $select.search}">
                        <span ng-bind-html="option.name | highlight: $select.search"></span>
                        <span class="text-muted" style="font-size: 8pt">[{{option.type}}]</span>
                    </ui-select-choices>
                </ui-select>
            </div>
            <div class="col-md-1" style="padding:0;">
                <a class="edit-pencil" ng-click="customizeDataset()">
                    <span class="glyphicon glyphicon-pencil"></span>
                </a>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="checkbox">
                    <label>
                        <input type="checkbox" ng-model="starterObject.runBvCase"> Run Bulk Validator Case after
                        execution (if available)
                    </label>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-2">
                <div class="checkbox">
                    <label>
                        <input type="checkbox" ng-model="svt"> SVT
                    </label>
                </div>
            </div>
            <div class="col-md-6" ng-show="svt">
                <div class="checkbox">
                    <label>
                        <input type="checkbox" ng-model="timerOn"> Fall on timeout
                    </label>
                </div>
            </div>
        </div>
        <div class="row" style="display: none">
            <div class="col-md-2">
                <label for="starterTCContext"><h5>TC Context:</h5></label>
            </div>
            <div class="col-md-9">
                <ui-select ng-model="starterObject.availableTCContexts.select" id="starterTCContext" theme="selectize">
                    <ui-select-match placeholder="Select or search...">{{$select.selected.name}}</ui-select-match>
                    <ui-select-choices repeat="option in starterObject.availableTCContexts | filter: {name: $select.search}">
                        <span ng-bind-html="option.name | highlight: $select.search"></span>
                    </ui-select-choices>
                </ui-select>
            </div>
            <div class="col-md-1" style="padding:0;">
                <context-info-button></context-info-button>
            </div>
        </div>
        <div class="row" ng-show="svt">
                    <div class="col-sm-2 " ng-show="timerOn">Timer (in seconds):</div>
                    <div class="col-sm-3 " ng-show="timerOn"><input type="number" class="form-control"
                            ng-model="timer">
                        </input></div>
                    <div class="col-sm-3"><button type="button" class="btn btn-info" data-dismiss="modal"
                            ng-click="copyLink()">Copy Link
                    </button></div>
        </div>
        <div class="row">
            <div class="col-md-11">
                <div class="btn-toolbar pull-right" role="toolbar">
                    <button type="button" class="btn btn-success btnclass"
                            ng-click="runRunnableEntity()"
                            data-dismiss="modal">Start
                    </button>
                    <button type="button" class="btn btn-default" data-dismiss="modal"
                            ng-click="close()">Cancel
                    </button>
                </div>
            </div>
        </div>
        <br>
        <div id="editDatasetSection" style="width:1000px;">
            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="containter-fluid">
                        <form>
                            <div class="form-group">
                                <div class="input-group">
                                    <div class="input-group-addon"><i class="glyphicon glyphicon-search"></i></div>
                                    <input type="text" class="form-control"
                                           placeholder="Search the parameter"
                                           ng-model="searchParameter">
                                </div>
                            </div>
                        </form>

                        <form>
                            <div class="form-group">
                                <div class="btn-toolbar pull-left" role="toolbar">
                                    <button type="button" class="btn btn-success btnclass"
                                            ng-click="addDatasetGroup()">Add Group
                                    </button>
                                    <button type="button" class="btn btn-danger"
                                            ng-click="deleteDatasetGroup()">Delete Group
                                    </button>
                                </div>
                                <div class="btn-toolbar pull-right" role="toolbar">
                                    <button type="button" class="btn btn-danger btnclass"
                                            ng-click="rejectDatasetChanges()">Reject All
                                    </button>
                                </div>
                            </div>
                        </form>
                        <br>
                        <div ng-if="datasetAccordionView" custom-dataset-accordion ng-model="starterModel"
                             selected-dataset="selectedDataset"
                             search-parameter="searchParameter"
                             collapse-panel-id="collapse-panel" collapse-panel-body-id="collapse-panel-body"
                             id="datasetGroups"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal-footer">
</div>
</div>